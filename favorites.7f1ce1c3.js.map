{"mappings":"kpBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,uJCAzDH,EAAA,SCAA,I,EAAAI,EAAAJ,EAAA,SCAAK,EAAiB,IAAAC,IAAoBN,EAAA,SAAAO,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WDG5F,MAAMC,EAAkB,IAAI,EAAAR,EAAAS,SAEtBC,EAAUC,SAASC,cAAc,aACjCC,EAAQF,SAASC,cAAc,cAC/BE,EAAOH,SAASC,cAAc,aAqDpC,SAASG,EAAaC,EAAMC,GAC1B,OAAID,GAAQC,EACH,kBAEF,W,CAIT,SAASC,EAAgBC,GACvB,MAAMC,MAAEA,EAAKC,YAAEA,EAAWC,QAAEA,EAAOL,OAAEA,EAAMM,IAAEA,EAAGC,SAAEA,GAAaL,EAEzDM,EAAeC,WAAWT,GAChC,IAAIU,EAAYF,EAAe,EAAI,EAAIA,EAAaG,QAAQ,GAO5D,MAAMC,EAAS,gKAGWP,+LARJ7B,EAa0B8B,EAZjCzB,KAAKC,MAAM+B,aAAaC,QAAQ,mBAAqB,MACtDC,MAAKC,GAAMA,EAAGV,MAAQ9B,IAAM,SAAW,6GAa5ByC,EAAAjC,mHAKsBmB,qEAEnCC,gGAIgBM,sBAtE9B,SAAmBV,GACjB,MAAO,mDACgBF,EAAa,EAAGE,iGAEZiB,EAAAjC,wFAGLc,EAAa,EAAGE,iGAEXiB,EAAAjC,wFAGLc,EAAa,EAAGE,iGAEXiB,EAAAjC,wFAGLc,EAAa,EAAGE,iGAEXiB,EAAAjC,wFAGLc,EAAa,EAAGE,iGAEXiB,EAAAjC,gF,CA+CfkC,CAAUR,+EACkDJ,yEA5BxE,IAAsB9B,EAgCtB,OAAOoC,C,CAjGTrB,EAAgB4B,YAAYC,MAAKC,IAC/B,MAAMnB,EAAMmB,EAASC,QAGfC,EAAY,GAElB,IAAK,IAAIjD,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMgC,IAAEA,EAAGH,MAAEA,EAAKI,SAAEA,EAAQP,OAAEA,EAAMK,QAAEA,EAAOD,YAAEA,GAAgBF,EAAI5B,GACnEiD,EAAUC,KAAK,C,IACblB,E,MACAH,E,SACAI,E,OACAP,E,QACAK,E,YACAD,G,CAIJS,aAAaY,QAfI,iBAec5C,KAAK6C,UAAUH,GAAW,IA8F3D,SAA6BI,EAAS,G,IACZC,EAAxB,MAAMC,EAAOhD,KAAKC,MAA4C,QAAtC8C,EAAAf,aAAaC,QAAQ,yBAAiB,IAAtCc,IAA0C,MAElE,GAAIC,GAAQA,EAAKtD,OAAQ,CACvB,MAEMuD,EAlBV,SAA8BC,EAAOC,GACnC,MAAMC,EAAgB,GAEtB,IAAK,IAAI3D,EAAI,EAAGA,EAAIyD,EAAMxD,OAAQD,GAAK0D,EAErCC,EADoBC,KAAKC,MAAM7D,EAAI,GAAK0D,IACXD,EAAMK,MAAM9D,EAAGA,EAAI0D,GAGlD,OAAOC,C,CAQWI,CAAqBR,EAAM,GAEZF,GAC5BW,KAAIC,GAAQtC,EAAgBsC,KAC5BC,KAAK,IAER/C,EAAQgD,UAAYX,EACpBlC,EAAM8C,UAAUC,IAAI,kB,MAEpB/C,EAAM8C,UAAUE,OAAO,mBAEnBC,OAAOC,WAAa,KACtBjD,EAAK6C,UAAUC,IAAI,kB,CAKzBI","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-03fd42e7f2f831b7.js","src/favorites.js","src/js/favorite/favorite-main.js","node_modules/@parcel/runtime-js/lib/runtime-643dfc921be0cb37.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"iGlSd\\\":\\\"favorites.7f1ce1c3.js\\\",\\\"lp5u4\\\":\\\"sprite.59731747.svg\\\",\\\"aQ52u\\\":\\\"favorites.aab62732.js\\\"}\"));","import './js/mobile-menu';\nimport './js/favorite/favorite-main';\n","import RecipeApiService from '../service/service-api';\nimport sprite from '../../images/sprite.svg';\n\nconst recipeApiSerive = new RecipeApiService();\n\nconst favList = document.querySelector('.fav-list');\nconst empty = document.querySelector('.fav-empty');\nconst hero = document.querySelector('.fav-hero');\n\nrecipeApiSerive.getRecipe().then(response => {\n  const arr = response.results;\n\n  const FAV_DATA = 'favotires-data';\n  const toStorage = [];\n\n  for (let i = 0; i < 6; i++) {\n    const { _id, title, category, rating, preview, description } = arr[i];\n    toStorage.push({\n      _id,\n      title,\n      category,\n      rating,\n      preview,\n      description,\n    });\n  }\n\n  localStorage.setItem(FAV_DATA, JSON.stringify(toStorage));\n});\n\nfunction getRating(rating) {\n  return `<ul class='stars-list'>\n             <li class=${obtainRating(1, rating)}>\n              <svg class='star-icon' width='18' height='18'>\n                <use href='${sprite}#rate-star'></use>\n              </svg>\n            </li>\n            <li class=${obtainRating(2, rating)}>\n              <svg class='star-icon' width='18' height='18'>\n                <use href='${sprite}#rate-star'></use>\n              </svg>\n            </li>\n            <li class=${obtainRating(3, rating)}>\n              <svg class='star-icon' width='18' height='18'>\n                <use href='${sprite}#rate-star'></use>\n              </svg>\n            </li>\n            <li class=${obtainRating(4, rating)}>\n              <svg class='star-icon' width='18' height='18'>\n                <use href='${sprite}#rate-star'></use>\n              </svg>\n            </li>\n            <li class=${obtainRating(5, rating)}>\n              <svg class='star-icon' width='18' height='18'>\n                <use href='${sprite}#rate-star'></use>\n              </svg>\n            </li>\n          </ul>`;\n}\n\nfunction obtainRating(star, rating) {\n  if (star <= rating) {\n    return 'star-rated-item';\n  }\n  return 'star-item';\n}\n\n// Rendering cards\nfunction renderingFavRec(arr) {\n  const { title, description, preview, rating, _id, category } = arr;\n\n  const parsedRating = parseFloat(rating);\n  let setRating = parsedRating > 5 ? 5 : parsedRating.toFixed(1);\n\n  function ifRecInFavor(id) {\n    const data = JSON.parse(localStorage.getItem('favotires-data') || '[]');\n    return data.some(el => el._id === id) ? 'active' : '';\n  }\n\n  const markup = `\n   <div class=\"rec-item\" style=\"background: linear-gradient(0deg, rgba(5, 5, 5, 0.6),\n                      rgba(5, 5, 5, 0)),\n                      url(${preview}); \n                      background-position: center;\n                      background-size: cover;\">\n        <div class=\"upper-part\">\n          \n          <button class=\"heart-btn ${ifRecInFavor(_id)}\" type=\"button\">\n            <svg class=\"icon-heart\" width=\"18\" height=\"16\">\n              <use href=\"${sprite}#heart\"></use>\n            </svg>\n          </button>\n  \n\n          <h2 class=\"rec-card-title title-cut\">${title}</h2>\n          <p class=\"rec-card-desc desc-cut\">\n            ${description}\n          </p>\n          \n          <div class=\"rec-rate\">\n            <p class=\"rate\">${setRating}</p>\n            ${getRating(setRating)}\n            <button type=\"button\" class=\"rec-btn-open rec-btn\" data-id=\"${_id}\">See recipe</button>\n          </div>\n        </div>\n      </div>`;\n  return markup;\n}\n\nfunction groupArrayIntoChunks(array, chunkSize) {\n  const groupedChunks = {};\n\n  for (let i = 0; i < array.length; i += chunkSize) {\n    const chunkNumber = Math.ceil((i + 1) / chunkSize);\n    groupedChunks[chunkNumber] = array.slice(i, i + chunkSize);\n  }\n\n  return groupedChunks;\n}\n\n// Create favorires cards\nfunction createFavoritesList(objNum = 1) {\n  const data = JSON.parse(localStorage.getItem('favotires-data') ?? '[]');\n\n  if (data && data.length) {\n    const objData = groupArrayIntoChunks(data, 9);\n\n    const favCardsMarkup = objData[objNum]\n      .map(item => renderingFavRec(item))\n      .join('');\n\n    favList.innerHTML = favCardsMarkup;\n    empty.classList.add('visually-hidden');\n  } else {\n    empty.classList.remove('visually-hidden');\n\n    if (window.innerWidth < 768) {\n      hero.classList.add('visually-hidden');\n    }\n  }\n}\n\ncreateFavoritesList();\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lp5u4\")).toString();"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$tgDFu","$a4212a039eccdb43$exports","URL","resolve","import","meta","url","toString","$b3d3a0e19b96645d$var$recipeApiSerive","default","$b3d3a0e19b96645d$var$favList","document","querySelector","$b3d3a0e19b96645d$var$empty","$b3d3a0e19b96645d$var$hero","$b3d3a0e19b96645d$var$obtainRating","star","rating","$b3d3a0e19b96645d$var$renderingFavRec","arr","title","description","preview","_id","category","parsedRating","parseFloat","setRating","toFixed","markup","localStorage","getItem","some","el","$parcel$interopDefault","$b3d3a0e19b96645d$var$getRating","getRecipe","then","response","results","toStorage","push","setItem","stringify","objNum","ref","data","favCardsMarkup","array","chunkSize","groupedChunks","Math","ceil","slice","$b3d3a0e19b96645d$var$groupArrayIntoChunks","map","item","join","innerHTML","classList","add","remove","window","innerWidth","$b3d3a0e19b96645d$var$createFavoritesList"],"version":3,"file":"favorites.7f1ce1c3.js.map"}