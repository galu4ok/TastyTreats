{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-4fff0d85d2e5da55.js","src/favorites.js","src/js/favorite/favorite-main.js","node_modules/@parcel/runtime-js/lib/runtime-ce62654395a15d2e.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"bN78u\\\":\\\"favorites.4b109829.js\\\",\\\"ee16w\\\":\\\"sprite.59731747.svg\\\",\\\"fY9Hl\\\":\\\"favorites.3123cb82.js\\\"}\"));","import './js/mobile-menu';\nimport './js/favorite/favorite-main';\n","import RecipeApiService from '../service/service-api';\nimport sprite from '../../images/sprite.svg';\n\nconst recipeApiSerive = new RecipeApiService();\n\nconst favList = document.querySelector('.fav-list');\nconst empty = document.querySelector('.fav-empty');\nconst hero = document.querySelector('.fav-hero');\n\nrecipeApiSerive.getRecipe().then(response => {\n  const arr = response.results;\n\n  const FAV_DATA = 'favotires-data';\n  const toStorage = [];\n\n  for (let i = 0; i < 6; i++) {\n    const { _id, title, category, rating, preview, description } = arr[i];\n    toStorage.push({\n      _id,\n      title,\n      category,\n      rating,\n      preview,\n      description,\n    });\n  }\n\n  localStorage.setItem(FAV_DATA, JSON.stringify(toStorage));\n});\n\nfunction getRating(rating) {\n  return `<ul class='stars-list'>\n             <li class=${obtainRating(1, rating)}>\n              <svg class='star-icon' width='18' height='18'>\n                <use href='${sprite}#rate-star'></use>\n              </svg>\n            </li>\n            <li class=${obtainRating(2, rating)}>\n              <svg class='star-icon' width='18' height='18'>\n                <use href='${sprite}#rate-star'></use>\n              </svg>\n            </li>\n            <li class=${obtainRating(3, rating)}>\n              <svg class='star-icon' width='18' height='18'>\n                <use href='${sprite}#rate-star'></use>\n              </svg>\n            </li>\n            <li class=${obtainRating(4, rating)}>\n              <svg class='star-icon' width='18' height='18'>\n                <use href='${sprite}#rate-star'></use>\n              </svg>\n            </li>\n            <li class=${obtainRating(5, rating)}>\n              <svg class='star-icon' width='18' height='18'>\n                <use href='${sprite}#rate-star'></use>\n              </svg>\n            </li>\n          </ul>`;\n}\n\nfunction obtainRating(star, rating) {\n  if (star <= rating) {\n    return 'star-rated-item';\n  }\n  return 'star-item';\n}\n\n// Rendering cards\nfunction renderingFavRec(arr) {\n  const { title, description, preview, rating, _id, category } = arr;\n\n  const parsedRating = parseFloat(rating);\n  let setRating = parsedRating > 5 ? 5 : parsedRating.toFixed(1);\n\n  function ifRecInFavor(id) {\n    const data = JSON.parse(localStorage.getItem('favotires-data') || '[]');\n    return data.some(el => el._id === id) ? 'active' : '';\n  }\n\n  const markup = `\n   <div class=\"rec-item\" style=\"background: linear-gradient(0deg, rgba(5, 5, 5, 0.6),\n                      rgba(5, 5, 5, 0)),\n                      url(${preview}); \n                      background-position: center;\n                      background-size: cover;\">\n        <div class=\"upper-part\">\n          \n          <button class=\"heart-btn ${ifRecInFavor(_id)}\" type=\"button\">\n            <svg class=\"icon-heart\" width=\"18\" height=\"16\">\n              <use href=\"${sprite}#heart\"></use>\n            </svg>\n          </button>\n  \n\n          <h2 class=\"rec-card-title title-cut\">${title}</h2>\n          <p class=\"rec-card-desc desc-cut\">\n            ${description}\n          </p>\n          \n          <div class=\"rec-rate\">\n            <p class=\"rate\">${setRating}</p>\n            ${getRating(setRating)}\n            <button type=\"button\" class=\"rec-btn-open rec-btn\" data-id=\"${_id}\">See recipe</button>\n          </div>\n        </div>\n      </div>`;\n  return markup;\n}\n\nfunction groupArrayIntoChunks(array, chunkSize) {\n  const groupedChunks = {};\n\n  for (let i = 0; i < array.length; i += chunkSize) {\n    const chunkNumber = Math.ceil((i + 1) / chunkSize);\n    groupedChunks[chunkNumber] = array.slice(i, i + chunkSize);\n  }\n\n  return groupedChunks;\n}\n\n// Create favorires cards\nfunction createFavoritesList(objNum = 1) {\n  const data = JSON.parse(localStorage.getItem('favotires-data') ?? '[]');\n\n  if (data && data.length) {\n    const objData = groupArrayIntoChunks(data, 9);\n\n    const favCardsMarkup = objData[objNum]\n      .map(item => renderingFavRec(item))\n      .join('');\n\n    favList.innerHTML = favCardsMarkup;\n    empty.classList.add('visually-hidden');\n  } else {\n    empty.classList.remove('visually-hidden');\n\n    if (window.innerWidth < 768) {\n      hero.classList.add('visually-hidden');\n    }\n  }\n}\n\ncreateFavoritesList();\n","module.exports = require('./helpers/bundle-url').getBundleURL('bN78u') + require('./helpers/bundle-manifest').resolve(\"ee16w\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$d3Gjh","$1204e234df9072a5$exports","getBundleURL","resolve","$b60f03cd1e1dbfd2$var$recipeApiSerive","default","$b60f03cd1e1dbfd2$var$favList","document","querySelector","$b60f03cd1e1dbfd2$var$empty","$b60f03cd1e1dbfd2$var$hero","$b60f03cd1e1dbfd2$var$obtainRating","star","rating","$b60f03cd1e1dbfd2$var$renderingFavRec","arr","title","description","preview","_id","parsedRating","category","parseFloat","setRating","toFixed","markup","concat","localStorage","getItem","some","el","$parcel$interopDefault","$b60f03cd1e1dbfd2$var$getRating","$b60f03cd1e1dbfd2$var$groupArrayIntoChunks","array","chunkSize","groupedChunks","Math","ceil","slice","getRecipe","then","response","results","toStorage","_i","push","setItem","stringify","ref","objNum","arguments","data","objData","favCardsMarkup","map","item","join","innerHTML","classList","add","remove","window","innerWidth","$b60f03cd1e1dbfd2$var$createFavoritesList"],"version":3,"file":"favorites.4b109829.js.map"}